<!DOCTYPE html>
<html lang="en">
  <head>
    <title>You're Invited to Jacob's Roaring 40th</title>

    <base href="https://roaring40th.jayekub.com/">

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0" shrink-to-fit="no">  -->

    <meta name="color-scheme" content="light only">
    <meta name="supported-color-schemes" content="light only">

    <meta name="x-apple-disable-message-reformatting">

    <style type="text/css">
      @font-face {
        font-family: "Telegraphem";
        src:
            url("Telegraphem.otf")
            format("opentype");
        font-weight: normal;
        font-style: normal;
      }

      :root {
        font-size: 16px;
      }

      body {
        font-family: "Telegraphem", monospace;
        font-size: 1.4rem;
        text-transform: uppercase;
        color: rgb(51, 50, 55);
      }

      #telegram {
        background-color: rgb(214, 182, 135);
        background-image: url("https://jayekub.github.io/telegram.jpg");
        background-size: contain;

        margin: auto;

        width: 60.375rem;
        height: 49.0625rem;
      }

      #message {
        padding-top: 19rem;
        padding-left: 5rem;
        box-sizing: border-box;
        transform: rotate(-0.33deg);
        text-align: left;
        white-space: pre;
      }

      a {
        color: rgb(51, 50, 55);
        font-weight: bold;
        text-decoration-thickness: 0.125rem;
      }
    </style>
    <script type="text/javascript">
      document.addEventListener('DOMContentLoaded', function() {
        const params = new URLSearchParams(window.location.search);
        const re = /\s*<.*>$/;

        if (params.has('invitee'))
        {

          invitees = params.getAll('invitee')
                          //.map(s => String(s).replace(re, '').trim());
                          .map(s=> String(s).split(' ')[0]);

          if (invitees.length == 1)
          {
              address = invitees[0] + '\n';
          }
          else if (invitees.length == 2)
          {
              address = invitees[0] + ' AND ' + invitees[1] + '\n';
          }
          else
          {
              address =
                invitees.slice(0, -1).join(', ') +
                (invitees.length > 1 ? ', AND ' + invitees[invitees.length - 1] : '') +
                '\n';
          }
          
          if (params.has('location'))
          {
            address += '     ' + params.get('location') + '=\n';
          }

          message = document.getElementById('message');
          message.prepend(address + '\n');
          
          details = document.getElementById('details-link');
          details.href += window.location.search;
        }
      });
    </script>
  </head>
  <body>
    <main id="telegram">
      <section id="message">
YOU ARE INVITED TO JACOBS ROARING 40TH ON JUNE 29TH

6PM - PRIVATE RECEPTION FEATURING OPEN BAR, LIVE JAZZ, AND
      MIXOLOGY LESSON
8PM - “THE SPEAKEASY” IMMERSIVE THEATRICAL EXPERIENCE

TICKETS TO "THE SPEAKEASY" PROVIDED, RSVP BY MARCH 1ST TO 
SECURE YOURS

DRESS IS 1920S THEMED APPAREL

<a id='details-link' href="https://roaring40th.jayekub.com/">CLICK</a> FOR DETAILS

     REGARDS
          JACOB KUENZEL
      </section>
    </main>
  </body>
</html>
